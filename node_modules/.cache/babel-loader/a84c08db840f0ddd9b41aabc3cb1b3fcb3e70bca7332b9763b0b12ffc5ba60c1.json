{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { IconButton } from '../../Button';\nimport { Layer } from '../../Layer';\nimport { Overlay } from '../../Overlay';\nimport { Popup } from '../../Popup';\nimport { allowScrollOnElement, allowOverscrollOnElement, classNamesFunction, divProperties, elementContains, getId, getNativeProps, getRTL, css, warnDeprecations, Async, EventGroup, initializeComponentRef } from '../../Utilities';\nimport { FocusTrapZone } from '../FocusTrapZone/index';\nimport { PanelType } from './Panel.types';\nimport { WindowContext } from '@fluentui/react-window-provider';\nimport { getDocumentEx, getWindowEx } from '../../utilities/dom';\nvar getClassNames = classNamesFunction();\nvar COMPONENT_NAME = 'Panel';\nvar PanelVisibilityState;\n(function (PanelVisibilityState) {\n  PanelVisibilityState[PanelVisibilityState[\"closed\"] = 0] = \"closed\";\n  PanelVisibilityState[PanelVisibilityState[\"animatingOpen\"] = 1] = \"animatingOpen\";\n  PanelVisibilityState[PanelVisibilityState[\"open\"] = 2] = \"open\";\n  PanelVisibilityState[PanelVisibilityState[\"animatingClosed\"] = 3] = \"animatingClosed\";\n})(PanelVisibilityState || (PanelVisibilityState = {}));\nvar PanelBase = /** @class */function (_super) {\n  __extends(PanelBase, _super);\n  function PanelBase(props) {\n    var _this = _super.call(this, props) || this;\n    _this._panel = React.createRef();\n    _this._animationCallback = null;\n    _this._hasCustomNavigation = !!(_this.props.onRenderNavigation || _this.props.onRenderNavigationContent);\n    _this.dismiss = function (ev) {\n      if (_this.props.onDismiss && _this.isActive) {\n        _this.props.onDismiss(ev);\n      }\n      if (!ev || ev && !ev.defaultPrevented) {\n        _this.close();\n      }\n    };\n    // Allow the user to scroll within the panel but not on the body\n    _this._allowScrollOnPanel = function (elt) {\n      var _a;\n      _this._resizeObserver = _this._createResizeObserver(function (entries) {\n        if (entries.length > 0 && entries[0].target === elt) {\n          _this._updateFooterPosition();\n        }\n      });\n      if (elt) {\n        (_a = _this._resizeObserver) === null || _a === void 0 ? void 0 : _a.observe(elt);\n        if (_this._allowTouchBodyScroll) {\n          allowOverscrollOnElement(elt, _this._events);\n        } else {\n          allowScrollOnElement(elt, _this._events);\n        }\n      } else {\n        _this._events.off(_this._scrollableContent);\n      }\n      _this._scrollableContent = elt;\n    };\n    _this._onRenderNavigation = function (props) {\n      if (!_this.props.onRenderNavigationContent && !_this.props.onRenderNavigation && !_this.props.hasCloseButton) {\n        return null;\n      }\n      var _a = _this.props.onRenderNavigationContent,\n        onRenderNavigationContent = _a === void 0 ? _this._onRenderNavigationContent : _a;\n      return React.createElement(\"div\", {\n        className: _this._classNames.navigation\n      }, onRenderNavigationContent(props, _this._onRenderNavigationContent));\n    };\n    _this._onRenderNavigationContent = function (props) {\n      var _a;\n      var closeButtonAriaLabel = props.closeButtonAriaLabel,\n        hasCloseButton = props.hasCloseButton,\n        _b = props.onRenderHeader,\n        onRenderHeader = _b === void 0 ? _this._onRenderHeader : _b;\n      if (hasCloseButton) {\n        var iconButtonStyles = (_a = _this._classNames.subComponentStyles) === null || _a === void 0 ? void 0 : _a.closeButton();\n        return React.createElement(React.Fragment, null, !_this._hasCustomNavigation && onRenderHeader(_this.props, _this._onRenderHeader, _this._headerTextId), React.createElement(IconButton, {\n          styles: iconButtonStyles,\n          className: _this._classNames.closeButton,\n          onClick: _this._onPanelClick,\n          ariaLabel: closeButtonAriaLabel,\n          title: closeButtonAriaLabel,\n          \"data-is-visible\": true,\n          iconProps: {\n            iconName: 'Cancel'\n          }\n        }));\n      }\n      return null;\n    };\n    _this._onRenderHeader = function (props, defaultRender, headerTextId) {\n      var headerText = props.headerText,\n        _a = props.headerTextProps,\n        headerTextProps = _a === void 0 ? {} : _a;\n      if (headerText) {\n        return React.createElement(\"div\", {\n          className: _this._classNames.header\n        }, React.createElement(\"div\", __assign({\n          id: headerTextId,\n          role: \"heading\",\n          \"aria-level\": 1\n        }, headerTextProps, {\n          className: css(_this._classNames.headerText, headerTextProps.className)\n        }), headerText));\n      }\n      return null;\n    };\n    _this._onRenderBody = function (props) {\n      return React.createElement(\"div\", {\n        className: _this._classNames.content\n      }, props.children);\n    };\n    _this._onRenderFooter = function (props) {\n      var _a = _this.props.onRenderFooterContent,\n        onRenderFooterContent = _a === void 0 ? null : _a;\n      if (onRenderFooterContent) {\n        return React.createElement(\"div\", {\n          className: _this._classNames.footer\n        }, React.createElement(\"div\", {\n          className: _this._classNames.footerInner\n        }, onRenderFooterContent()));\n      }\n      return null;\n    };\n    _this._animateTo = function (newVisibilityState) {\n      if (newVisibilityState === PanelVisibilityState.open && _this.props.onOpen) {\n        _this.props.onOpen();\n      }\n      _this._animationCallback = _this._async.setTimeout(function () {\n        _this.setState({\n          visibility: newVisibilityState\n        });\n        _this._onTransitionComplete(newVisibilityState);\n      }, 200);\n    };\n    _this._clearExistingAnimationTimer = function () {\n      if (_this._animationCallback !== null) {\n        _this._async.clearTimeout(_this._animationCallback);\n      }\n    };\n    _this._onPanelClick = function (ev) {\n      _this.dismiss(ev);\n    };\n    _this._onTransitionComplete = function (newVisibilityState) {\n      _this._updateFooterPosition();\n      if (newVisibilityState === PanelVisibilityState.open && _this.props.onOpened) {\n        _this.props.onOpened();\n      }\n      if (newVisibilityState === PanelVisibilityState.closed && _this.props.onDismissed) {\n        _this.props.onDismissed();\n      }\n    };\n    var _a = _this.props.allowTouchBodyScroll,\n      allowTouchBodyScroll = _a === void 0 ? false : _a;\n    _this._allowTouchBodyScroll = allowTouchBodyScroll;\n    initializeComponentRef(_this);\n    warnDeprecations(COMPONENT_NAME, props, {\n      ignoreExternalFocusing: 'focusTrapZoneProps',\n      forceFocusInsideTrap: 'focusTrapZoneProps',\n      firstFocusableSelector: 'focusTrapZoneProps'\n    });\n    _this.state = {\n      isFooterSticky: false,\n      // intentionally ignore props so animation takes place during componentDidMount\n      visibility: PanelVisibilityState.closed,\n      id: getId('Panel')\n    };\n    return _this;\n  }\n  PanelBase.getDerivedStateFromProps = function (nextProps, prevState) {\n    if (nextProps.isOpen === undefined) {\n      return null; // no state update\n    }\n    if (nextProps.isOpen && (prevState.visibility === PanelVisibilityState.closed || prevState.visibility === PanelVisibilityState.animatingClosed)) {\n      return {\n        visibility: PanelVisibilityState.animatingOpen\n      };\n    }\n    if (!nextProps.isOpen && (prevState.visibility === PanelVisibilityState.open || prevState.visibility === PanelVisibilityState.animatingOpen)) {\n      return {\n        visibility: PanelVisibilityState.animatingClosed\n      };\n    }\n    return null;\n  };\n  PanelBase.prototype.componentDidMount = function () {\n    this._async = new Async(this);\n    this._events = new EventGroup(this);\n    var win = getWindowEx(this.context);\n    var doc = getDocumentEx(this.context);\n    this._events.on(win, 'resize', this._updateFooterPosition);\n    if (this._shouldListenForOuterClick(this.props)) {\n      this._events.on(doc === null || doc === void 0 ? void 0 : doc.body, 'mousedown', this._dismissOnOuterClick, true);\n    }\n    if (this.props.isOpen) {\n      this.setState({\n        visibility: PanelVisibilityState.animatingOpen\n      });\n    }\n  };\n  PanelBase.prototype.componentDidUpdate = function (previousProps, previousState) {\n    var shouldListenOnOuterClick = this._shouldListenForOuterClick(this.props);\n    var previousShouldListenOnOuterClick = this._shouldListenForOuterClick(previousProps);\n    if (this.state.visibility !== previousState.visibility) {\n      this._clearExistingAnimationTimer();\n      if (this.state.visibility === PanelVisibilityState.animatingOpen) {\n        this._animateTo(PanelVisibilityState.open);\n      } else if (this.state.visibility === PanelVisibilityState.animatingClosed) {\n        this._animateTo(PanelVisibilityState.closed);\n      }\n    }\n    var doc = getDocumentEx(this.context);\n    if (shouldListenOnOuterClick && !previousShouldListenOnOuterClick) {\n      this._events.on(doc === null || doc === void 0 ? void 0 : doc.body, 'mousedown', this._dismissOnOuterClick, true);\n    } else if (!shouldListenOnOuterClick && previousShouldListenOnOuterClick) {\n      this._events.off(doc === null || doc === void 0 ? void 0 : doc.body, 'mousedown', this._dismissOnOuterClick, true);\n    }\n  };\n  PanelBase.prototype.componentWillUnmount = function () {\n    var _a;\n    this._async.dispose();\n    this._events.dispose();\n    (_a = this._resizeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n  };\n  PanelBase.prototype.render = function () {\n    var _a = this.props,\n      _b = _a.className,\n      className = _b === void 0 ? '' : _b,\n      elementToFocusOnDismiss = _a.elementToFocusOnDismiss,\n      /* eslint-disable @typescript-eslint/no-deprecated */\n      firstFocusableSelector = _a.firstFocusableSelector,\n      focusTrapZoneProps = _a.focusTrapZoneProps,\n      forceFocusInsideTrap = _a.forceFocusInsideTrap,\n      hasCloseButton = _a.hasCloseButton,\n      headerText = _a.headerText,\n      _c = _a.headerClassName,\n      headerClassName = _c === void 0 ? '' : _c,\n      ignoreExternalFocusing = _a.ignoreExternalFocusing,\n      isBlocking = _a.isBlocking,\n      isFooterAtBottom = _a.isFooterAtBottom,\n      isLightDismiss = _a.isLightDismiss,\n      isHiddenOnDismiss = _a.isHiddenOnDismiss,\n      layerProps = _a.layerProps,\n      overlayProps = _a.overlayProps,\n      popupProps = _a.popupProps,\n      type = _a.type,\n      styles = _a.styles,\n      theme = _a.theme,\n      customWidth = _a.customWidth,\n      _d = _a.onLightDismissClick,\n      onLightDismissClick = _d === void 0 ? this._onPanelClick : _d,\n      _e = _a.onRenderNavigation,\n      onRenderNavigation = _e === void 0 ? this._onRenderNavigation : _e,\n      _f = _a.onRenderHeader,\n      onRenderHeader = _f === void 0 ? this._onRenderHeader : _f,\n      _g = _a.onRenderBody,\n      onRenderBody = _g === void 0 ? this._onRenderBody : _g,\n      _h = _a.onRenderFooter,\n      onRenderFooter = _h === void 0 ? this._onRenderFooter : _h;\n    var _j = this.state,\n      isFooterSticky = _j.isFooterSticky,\n      visibility = _j.visibility,\n      id = _j.id;\n    var isLeft = type === PanelType.smallFixedNear || type === PanelType.customNear ? true : false;\n    var isRTL = getRTL(theme);\n    var isOnRightSide = isRTL ? isLeft : !isLeft;\n    var customWidthStyles = type === PanelType.custom || type === PanelType.customNear ? {\n      width: customWidth\n    } : {};\n    var nativeProps = getNativeProps(this.props, divProperties);\n    var isOpen = this.isActive;\n    var isAnimating = visibility === PanelVisibilityState.animatingClosed || visibility === PanelVisibilityState.animatingOpen;\n    this._headerTextId = headerText && id + '-headerText';\n    if (!isOpen && !isAnimating && !isHiddenOnDismiss) {\n      return null;\n    }\n    this._classNames = getClassNames(styles, {\n      theme: theme,\n      className: className,\n      focusTrapZoneClassName: focusTrapZoneProps ? focusTrapZoneProps.className : undefined,\n      hasCloseButton: hasCloseButton,\n      headerClassName: headerClassName,\n      isAnimating: isAnimating,\n      isFooterSticky: isFooterSticky,\n      isFooterAtBottom: isFooterAtBottom,\n      isOnRightSide: isOnRightSide,\n      isOpen: isOpen,\n      isHiddenOnDismiss: isHiddenOnDismiss,\n      type: type,\n      hasCustomNavigation: this._hasCustomNavigation\n    });\n    var _k = this,\n      _classNames = _k._classNames,\n      _allowTouchBodyScroll = _k._allowTouchBodyScroll;\n    var overlay;\n    if (isBlocking && isOpen) {\n      overlay = React.createElement(Overlay, __assign({\n        className: _classNames.overlay,\n        isDarkThemed: false,\n        onClick: isLightDismiss ? onLightDismissClick : undefined,\n        allowTouchBodyScroll: _allowTouchBodyScroll\n      }, overlayProps));\n    }\n    return React.createElement(Layer, __assign({}, layerProps), React.createElement(Popup, __assign({\n      role: \"dialog\",\n      \"aria-modal\": isBlocking ? 'true' : undefined,\n      ariaLabelledBy: this._headerTextId ? this._headerTextId : undefined,\n      onDismiss: this.dismiss,\n      className: _classNames.hiddenPanel,\n      enableAriaHiddenSiblings: isOpen ? true : false\n    }, popupProps), React.createElement(\"div\", __assign({\n      \"aria-hidden\": !isOpen && isAnimating\n    }, nativeProps, {\n      ref: this._panel,\n      className: _classNames.root\n    }), overlay, React.createElement(FocusTrapZone, __assign({\n      ignoreExternalFocusing: ignoreExternalFocusing,\n      forceFocusInsideTrap: !isBlocking || isHiddenOnDismiss && !isOpen ? false : forceFocusInsideTrap,\n      firstFocusableSelector: firstFocusableSelector,\n      isClickableOutsideFocusTrap: true\n    }, focusTrapZoneProps, {\n      className: _classNames.main,\n      style: customWidthStyles,\n      elementToFocusOnDismiss: elementToFocusOnDismiss\n    }), React.createElement(\"div\", {\n      className: _classNames.contentInner\n    }, React.createElement(\"div\", {\n      ref: this._allowScrollOnPanel,\n      className: _classNames.scrollableContent,\n      \"data-is-scrollable\": true\n    }, React.createElement(\"div\", {\n      className: _classNames.commands,\n      \"data-is-visible\": true\n    }, onRenderNavigation(this.props, this._onRenderNavigation)), (this._hasCustomNavigation || !hasCloseButton) && onRenderHeader(this.props, this._onRenderHeader, this._headerTextId), onRenderBody(this.props, this._onRenderBody), onRenderFooter(this.props, this._onRenderFooter)))))));\n  };\n  PanelBase.prototype.open = function () {\n    if (this.props.isOpen !== undefined) {\n      return;\n    }\n    if (this.isActive) {\n      return;\n    }\n    this.setState({\n      visibility: PanelVisibilityState.animatingOpen\n    });\n  };\n  PanelBase.prototype.close = function () {\n    if (this.props.isOpen !== undefined) {\n      return;\n    }\n    if (!this.isActive) {\n      return;\n    }\n    this.setState({\n      visibility: PanelVisibilityState.animatingClosed\n    });\n  };\n  Object.defineProperty(PanelBase.prototype, \"isActive\", {\n    /** isActive is true when panel is open or opening. */\n    get: function () {\n      return this.state.visibility === PanelVisibilityState.open || this.state.visibility === PanelVisibilityState.animatingOpen;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  PanelBase.prototype._createResizeObserver = function (callback) {\n    var _a;\n    var doc = getDocumentEx(this.context);\n    var resizeObserver = null;\n    if ((_a = doc === null || doc === void 0 ? void 0 : doc.defaultView) === null || _a === void 0 ? void 0 : _a.ResizeObserver) {\n      resizeObserver = new doc.defaultView.ResizeObserver(callback);\n    }\n    return resizeObserver;\n  };\n  PanelBase.prototype._shouldListenForOuterClick = function (props) {\n    return !!props.isBlocking && !!props.isOpen;\n  };\n  PanelBase.prototype._updateFooterPosition = function () {\n    var scrollableContent = this._scrollableContent;\n    if (scrollableContent) {\n      var height = scrollableContent.clientHeight;\n      var innerHeight_1 = scrollableContent.scrollHeight;\n      this.setState({\n        isFooterSticky: height < innerHeight_1 ? true : false\n      });\n    }\n  };\n  PanelBase.prototype._dismissOnOuterClick = function (ev) {\n    var panel = this._panel.current;\n    if (this.isActive && panel && !ev.defaultPrevented) {\n      if (!elementContains(panel, ev.target)) {\n        if (this.props.onOuterClick) {\n          this.props.onOuterClick(ev);\n        } else {\n          this.dismiss(ev);\n        }\n      }\n    }\n  };\n  PanelBase.defaultProps = {\n    isHiddenOnDismiss: false,\n    isOpen: undefined,\n    isBlocking: true,\n    hasCloseButton: true,\n    type: PanelType.smallFixedFar\n  };\n  PanelBase.contextType = WindowContext;\n  return PanelBase;\n}(React.Component);\nexport { PanelBase };","map":{"version":3,"names":["React","IconButton","Layer","Overlay","Popup","allowScrollOnElement","allowOverscrollOnElement","classNamesFunction","divProperties","elementContains","getId","getNativeProps","getRTL","css","warnDeprecations","Async","EventGroup","initializeComponentRef","FocusTrapZone","PanelType","WindowContext","getDocumentEx","getWindowEx","getClassNames","COMPONENT_NAME","PanelVisibilityState","PanelBase","_super","__extends","props","_this","call","_panel","createRef","_animationCallback","_hasCustomNavigation","onRenderNavigation","onRenderNavigationContent","dismiss","ev","onDismiss","isActive","defaultPrevented","close","_allowScrollOnPanel","elt","_resizeObserver","_createResizeObserver","entries","length","target","_updateFooterPosition","_a","observe","_allowTouchBodyScroll","_events","off","_scrollableContent","_onRenderNavigation","hasCloseButton","_onRenderNavigationContent","createElement","className","_classNames","navigation","closeButtonAriaLabel","_b","onRenderHeader","_onRenderHeader","iconButtonStyles","subComponentStyles","closeButton","Fragment","_headerTextId","styles","onClick","_onPanelClick","ariaLabel","title","iconProps","iconName","defaultRender","headerTextId","headerText","headerTextProps","header","__assign","id","role","_onRenderBody","content","children","_onRenderFooter","onRenderFooterContent","footer","footerInner","_animateTo","newVisibilityState","open","onOpen","_async","setTimeout","setState","visibility","_onTransitionComplete","_clearExistingAnimationTimer","clearTimeout","onOpened","closed","onDismissed","allowTouchBodyScroll","ignoreExternalFocusing","forceFocusInsideTrap","firstFocusableSelector","state","isFooterSticky","getDerivedStateFromProps","nextProps","prevState","isOpen","undefined","animatingClosed","animatingOpen","prototype","componentDidMount","win","context","doc","on","_shouldListenForOuterClick","body","_dismissOnOuterClick","componentDidUpdate","previousProps","previousState","shouldListenOnOuterClick","previousShouldListenOnOuterClick","componentWillUnmount","dispose","disconnect","render","elementToFocusOnDismiss","focusTrapZoneProps","_c","headerClassName","isBlocking","isFooterAtBottom","isLightDismiss","isHiddenOnDismiss","layerProps","overlayProps","popupProps","type","theme","customWidth","_d","onLightDismissClick","_e","_f","_g","onRenderBody","_h","onRenderFooter","_j","isLeft","smallFixedNear","customNear","isRTL","isOnRightSide","customWidthStyles","custom","width","nativeProps","isAnimating","focusTrapZoneClassName","hasCustomNavigation","_k","overlay","isDarkThemed","ariaLabelledBy","hiddenPanel","enableAriaHiddenSiblings","ref","root","isClickableOutsideFocusTrap","main","style","contentInner","scrollableContent","commands","Object","defineProperty","get","callback","resizeObserver","defaultView","ResizeObserver","height","clientHeight","innerHeight_1","scrollHeight","panel","current","onOuterClick","defaultProps","smallFixedFar","contextType","Component"],"sources":["C:\\Users\\divc1\\Downloads\\demosb\\sb-agentic-ai-security-agents\\node_modules\\@fluentui\\react\\lib\\components\\src\\components\\Panel\\Panel.base.tsx"],"sourcesContent":["import * as React from 'react';\nimport { IconButton } from '../../Button';\nimport { Layer } from '../../Layer';\nimport { Overlay } from '../../Overlay';\nimport { Popup } from '../../Popup';\nimport {\n  allowScrollOnElement,\n  allowOverscrollOnElement,\n  classNamesFunction,\n  divProperties,\n  elementContains,\n  getId,\n  getNativeProps,\n  getRTL,\n  css,\n  warnDeprecations,\n  Async,\n  EventGroup,\n  initializeComponentRef,\n} from '../../Utilities';\nimport { FocusTrapZone } from '../FocusTrapZone/index';\nimport { PanelType } from './Panel.types';\nimport type { IProcessedStyleSet } from '../../Styling';\nimport type { IPanel, IPanelProps, IPanelStyleProps, IPanelStyles } from './Panel.types';\nimport { WindowContext } from '@fluentui/react-window-provider';\nimport { getDocumentEx, getWindowEx } from '../../utilities/dom';\n\nconst getClassNames = classNamesFunction<IPanelStyleProps, IPanelStyles>();\nconst COMPONENT_NAME = 'Panel';\n\nenum PanelVisibilityState {\n  closed,\n  animatingOpen,\n  open,\n  animatingClosed,\n}\n\ninterface IPanelState {\n  isFooterSticky?: boolean;\n  id?: string;\n  visibility: PanelVisibilityState;\n}\n\nexport class PanelBase extends React.Component<IPanelProps, IPanelState> implements IPanel {\n  public static defaultProps: IPanelProps = {\n    isHiddenOnDismiss: false,\n    isOpen: undefined,\n    isBlocking: true,\n    hasCloseButton: true,\n    type: PanelType.smallFixedFar,\n  };\n\n  public static contextType = WindowContext;\n\n  private _async: Async;\n  private _events: EventGroup;\n  private _panel = React.createRef<HTMLDivElement>();\n  private _classNames: IProcessedStyleSet<IPanelStyles>;\n  private _scrollableContent: HTMLDivElement | null;\n  private _animationCallback: number | null = null;\n  private _hasCustomNavigation: boolean = !!(this.props.onRenderNavigation || this.props.onRenderNavigationContent);\n  private _headerTextId: string | undefined;\n  private _allowTouchBodyScroll: boolean;\n  private _resizeObserver: ResizeObserver | null;\n\n  public static getDerivedStateFromProps(\n    nextProps: Readonly<IPanelProps>,\n    prevState: Readonly<IPanelState>,\n  ): Partial<IPanelState> | null {\n    if (nextProps.isOpen === undefined) {\n      return null; // no state update\n    }\n    if (\n      nextProps.isOpen &&\n      (prevState.visibility === PanelVisibilityState.closed ||\n        prevState.visibility === PanelVisibilityState.animatingClosed)\n    ) {\n      return { visibility: PanelVisibilityState.animatingOpen };\n    }\n    if (\n      !nextProps.isOpen &&\n      (prevState.visibility === PanelVisibilityState.open ||\n        prevState.visibility === PanelVisibilityState.animatingOpen)\n    ) {\n      return { visibility: PanelVisibilityState.animatingClosed };\n    }\n    return null;\n  }\n\n  constructor(props: IPanelProps) {\n    super(props);\n\n    const { allowTouchBodyScroll = false } = this.props;\n    this._allowTouchBodyScroll = allowTouchBodyScroll;\n\n    initializeComponentRef(this);\n\n    warnDeprecations(COMPONENT_NAME, props, {\n      ignoreExternalFocusing: 'focusTrapZoneProps',\n      forceFocusInsideTrap: 'focusTrapZoneProps',\n      firstFocusableSelector: 'focusTrapZoneProps',\n    });\n\n    this.state = {\n      isFooterSticky: false,\n      // intentionally ignore props so animation takes place during componentDidMount\n      visibility: PanelVisibilityState.closed,\n      id: getId('Panel'),\n    };\n  }\n\n  public componentDidMount(): void {\n    this._async = new Async(this);\n    this._events = new EventGroup(this);\n    const win = getWindowEx(this.context);\n    const doc = getDocumentEx(this.context);\n\n    this._events.on(win, 'resize', this._updateFooterPosition);\n\n    if (this._shouldListenForOuterClick(this.props)) {\n      this._events.on(doc?.body, 'mousedown', this._dismissOnOuterClick, true);\n    }\n\n    if (this.props.isOpen) {\n      this.setState({ visibility: PanelVisibilityState.animatingOpen });\n    }\n  }\n\n  public componentDidUpdate(previousProps: IPanelProps, previousState: IPanelState): void {\n    const shouldListenOnOuterClick = this._shouldListenForOuterClick(this.props);\n    const previousShouldListenOnOuterClick = this._shouldListenForOuterClick(previousProps);\n\n    if (this.state.visibility !== previousState.visibility) {\n      this._clearExistingAnimationTimer();\n      if (this.state.visibility === PanelVisibilityState.animatingOpen) {\n        this._animateTo(PanelVisibilityState.open);\n      } else if (this.state.visibility === PanelVisibilityState.animatingClosed) {\n        this._animateTo(PanelVisibilityState.closed);\n      }\n    }\n\n    const doc = getDocumentEx(this.context);\n    if (shouldListenOnOuterClick && !previousShouldListenOnOuterClick) {\n      this._events.on(doc?.body, 'mousedown', this._dismissOnOuterClick, true);\n    } else if (!shouldListenOnOuterClick && previousShouldListenOnOuterClick) {\n      this._events.off(doc?.body, 'mousedown', this._dismissOnOuterClick, true);\n    }\n  }\n\n  public componentWillUnmount(): void {\n    this._async.dispose();\n    this._events.dispose();\n    this._resizeObserver?.disconnect();\n  }\n\n  public render(): JSX.Element | null {\n    const {\n      className = '',\n      elementToFocusOnDismiss,\n      /* eslint-disable @typescript-eslint/no-deprecated */\n      firstFocusableSelector,\n      focusTrapZoneProps,\n      forceFocusInsideTrap,\n      hasCloseButton,\n      headerText,\n      headerClassName = '',\n      ignoreExternalFocusing,\n      isBlocking,\n      isFooterAtBottom,\n      isLightDismiss,\n      isHiddenOnDismiss,\n      layerProps,\n      overlayProps,\n      popupProps,\n      type,\n      styles,\n      theme,\n      customWidth,\n      onLightDismissClick = this._onPanelClick,\n      onRenderNavigation = this._onRenderNavigation,\n      onRenderHeader = this._onRenderHeader,\n      onRenderBody = this._onRenderBody,\n      onRenderFooter = this._onRenderFooter,\n    } = this.props;\n    const { isFooterSticky, visibility, id } = this.state;\n    const isLeft = type === PanelType.smallFixedNear || type === PanelType.customNear ? true : false;\n    const isRTL = getRTL(theme);\n    const isOnRightSide = isRTL ? isLeft : !isLeft;\n    const customWidthStyles = type === PanelType.custom || type === PanelType.customNear ? { width: customWidth } : {};\n    const nativeProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties);\n    const isOpen = this.isActive;\n    const isAnimating =\n      visibility === PanelVisibilityState.animatingClosed || visibility === PanelVisibilityState.animatingOpen;\n\n    this._headerTextId = headerText && id + '-headerText';\n\n    if (!isOpen && !isAnimating && !isHiddenOnDismiss) {\n      return null;\n    }\n\n    this._classNames = getClassNames(styles!, {\n      theme: theme!,\n      className,\n      focusTrapZoneClassName: focusTrapZoneProps ? focusTrapZoneProps.className : undefined,\n      hasCloseButton,\n      headerClassName,\n      isAnimating,\n      isFooterSticky,\n      isFooterAtBottom,\n      isOnRightSide,\n      isOpen,\n      isHiddenOnDismiss,\n      type,\n      hasCustomNavigation: this._hasCustomNavigation,\n    });\n\n    const { _classNames, _allowTouchBodyScroll } = this;\n\n    let overlay;\n    if (isBlocking && isOpen) {\n      overlay = (\n        <Overlay\n          className={_classNames.overlay}\n          isDarkThemed={false}\n          onClick={isLightDismiss ? onLightDismissClick : undefined}\n          allowTouchBodyScroll={_allowTouchBodyScroll}\n          {...overlayProps}\n        />\n      );\n    }\n\n    return (\n      <Layer {...layerProps}>\n        <Popup\n          role=\"dialog\"\n          aria-modal={isBlocking ? 'true' : undefined}\n          ariaLabelledBy={this._headerTextId ? this._headerTextId : undefined}\n          onDismiss={this.dismiss}\n          className={_classNames.hiddenPanel}\n          enableAriaHiddenSiblings={isOpen ? true : false}\n          {...popupProps}\n        >\n          <div aria-hidden={!isOpen && isAnimating} {...nativeProps} ref={this._panel} className={_classNames.root}>\n            {overlay}\n            <FocusTrapZone\n              ignoreExternalFocusing={ignoreExternalFocusing}\n              forceFocusInsideTrap={!isBlocking || (isHiddenOnDismiss && !isOpen) ? false : forceFocusInsideTrap}\n              firstFocusableSelector={firstFocusableSelector}\n              isClickableOutsideFocusTrap={true}\n              {...focusTrapZoneProps}\n              className={_classNames.main}\n              style={customWidthStyles}\n              elementToFocusOnDismiss={elementToFocusOnDismiss}\n            >\n              <div className={_classNames.contentInner}>\n                <div ref={this._allowScrollOnPanel} className={_classNames.scrollableContent} data-is-scrollable={true}>\n                  <div className={_classNames.commands} data-is-visible={true}>\n                    {onRenderNavigation(this.props, this._onRenderNavigation)}\n                  </div>\n                  {(this._hasCustomNavigation || !hasCloseButton) &&\n                    onRenderHeader(this.props, this._onRenderHeader, this._headerTextId)}\n                  {onRenderBody(this.props, this._onRenderBody)}\n                  {onRenderFooter(this.props, this._onRenderFooter)}\n                </div>\n              </div>\n            </FocusTrapZone>\n          </div>\n        </Popup>\n      </Layer>\n    );\n  }\n\n  public open() {\n    if (this.props.isOpen !== undefined) {\n      return;\n    }\n\n    if (this.isActive) {\n      return;\n    }\n\n    this.setState({ visibility: PanelVisibilityState.animatingOpen });\n  }\n\n  public close() {\n    if (this.props.isOpen !== undefined) {\n      return;\n    }\n\n    if (!this.isActive) {\n      return;\n    }\n\n    this.setState({ visibility: PanelVisibilityState.animatingClosed });\n  }\n\n  public dismiss = (ev?: React.SyntheticEvent<HTMLElement> | KeyboardEvent): void => {\n    if (this.props.onDismiss && this.isActive) {\n      this.props.onDismiss(ev);\n    }\n\n    if (!ev || (ev && !ev.defaultPrevented)) {\n      this.close();\n    }\n  };\n\n  /** isActive is true when panel is open or opening. */\n  public get isActive(): boolean {\n    return (\n      this.state.visibility === PanelVisibilityState.open ||\n      this.state.visibility === PanelVisibilityState.animatingOpen\n    );\n  }\n\n  private _createResizeObserver(callback: ResizeObserverCallback): ResizeObserver | null {\n    const doc = getDocumentEx(this.context);\n    let resizeObserver: ResizeObserver | null = null;\n\n    if (doc?.defaultView?.ResizeObserver) {\n      resizeObserver = new doc.defaultView.ResizeObserver(callback);\n    }\n\n    return resizeObserver;\n  }\n\n  // Allow the user to scroll within the panel but not on the body\n  private _allowScrollOnPanel = (elt: HTMLDivElement | null): void => {\n    this._resizeObserver = this._createResizeObserver(entries => {\n      if (entries.length > 0 && entries[0].target === elt) {\n        this._updateFooterPosition();\n      }\n    });\n\n    if (elt) {\n      this._resizeObserver?.observe(elt);\n      if (this._allowTouchBodyScroll) {\n        allowOverscrollOnElement(elt, this._events);\n      } else {\n        allowScrollOnElement(elt, this._events);\n      }\n    } else {\n      this._events.off(this._scrollableContent);\n    }\n    this._scrollableContent = elt;\n  };\n\n  private _shouldListenForOuterClick(props: IPanelProps): boolean {\n    return !!props.isBlocking && !!props.isOpen;\n  }\n\n  private _onRenderNavigation = (props: IPanelProps): JSX.Element | null => {\n    if (!this.props.onRenderNavigationContent && !this.props.onRenderNavigation && !this.props.hasCloseButton) {\n      return null;\n    }\n    const { onRenderNavigationContent = this._onRenderNavigationContent } = this.props;\n    return (\n      <div className={this._classNames.navigation}>\n        {onRenderNavigationContent(props, this._onRenderNavigationContent)}\n      </div>\n    );\n  };\n\n  private _onRenderNavigationContent = (props: IPanelProps): JSX.Element | null => {\n    const { closeButtonAriaLabel, hasCloseButton, onRenderHeader = this._onRenderHeader } = props;\n    if (hasCloseButton) {\n      const iconButtonStyles = this._classNames.subComponentStyles?.closeButton();\n\n      return (\n        <>\n          {!this._hasCustomNavigation && onRenderHeader(this.props, this._onRenderHeader, this._headerTextId)}\n          <IconButton\n            styles={iconButtonStyles}\n            className={this._classNames.closeButton}\n            onClick={this._onPanelClick}\n            ariaLabel={closeButtonAriaLabel}\n            title={closeButtonAriaLabel}\n            data-is-visible={true}\n            iconProps={{ iconName: 'Cancel' }}\n          />\n        </>\n      );\n    }\n    return null;\n  };\n\n  private _onRenderHeader = (\n    props: IPanelProps,\n    defaultRender?: (props?: IPanelProps) => JSX.Element | null,\n    headerTextId?: string | undefined,\n  ): JSX.Element | null => {\n    const { headerText, headerTextProps = {} } = props;\n\n    if (headerText) {\n      return (\n        <div className={this._classNames.header}>\n          <div\n            id={headerTextId}\n            role=\"heading\"\n            aria-level={1}\n            {...headerTextProps}\n            className={css(this._classNames.headerText, headerTextProps.className)}\n          >\n            {headerText}\n          </div>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  private _onRenderBody = (props: IPanelProps): JSX.Element => {\n    return <div className={this._classNames.content}>{props.children}</div>;\n  };\n\n  private _onRenderFooter = (props: IPanelProps): JSX.Element | null => {\n    const { onRenderFooterContent = null } = this.props;\n    if (onRenderFooterContent) {\n      return (\n        <div className={this._classNames.footer}>\n          <div className={this._classNames.footerInner}>{onRenderFooterContent()}</div>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  private _updateFooterPosition(): void {\n    const scrollableContent = this._scrollableContent;\n    if (scrollableContent) {\n      const height = scrollableContent.clientHeight;\n      const innerHeight = scrollableContent.scrollHeight;\n\n      this.setState({\n        isFooterSticky: height < innerHeight ? true : false,\n      });\n    }\n  }\n\n  private _dismissOnOuterClick(ev: React.MouseEvent<HTMLDivElement>): void {\n    const panel = this._panel.current;\n    if (this.isActive && panel && !ev.defaultPrevented) {\n      if (!elementContains(panel, ev.target as HTMLElement)) {\n        if (this.props.onOuterClick) {\n          this.props.onOuterClick(ev);\n        } else {\n          this.dismiss(ev);\n        }\n      }\n    }\n  }\n\n  private _animateTo = (newVisibilityState: PanelVisibilityState): void => {\n    if (newVisibilityState === PanelVisibilityState.open && this.props.onOpen) {\n      this.props.onOpen();\n    }\n\n    this._animationCallback = this._async.setTimeout(() => {\n      this.setState({ visibility: newVisibilityState });\n      this._onTransitionComplete(newVisibilityState);\n    }, 200);\n  };\n\n  private _clearExistingAnimationTimer = (): void => {\n    if (this._animationCallback !== null) {\n      this._async.clearTimeout(this._animationCallback);\n    }\n  };\n\n  private _onPanelClick = (ev?: any): void => {\n    this.dismiss(ev);\n  };\n\n  private _onTransitionComplete = (newVisibilityState: PanelVisibilityState): void => {\n    this._updateFooterPosition();\n    if (newVisibilityState === PanelVisibilityState.open && this.props.onOpened) {\n      this.props.onOpened();\n    }\n\n    if (newVisibilityState === PanelVisibilityState.closed && this.props.onDismissed) {\n      this.props.onDismissed();\n    }\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}